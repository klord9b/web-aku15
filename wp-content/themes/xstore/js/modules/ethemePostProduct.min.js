!function(u){"use strict";u(window).on("elementor/frontend/init",function(){var a=elementorModules.frontend.handlers.Base.extend({onInit:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.local_params={clicked:!1},this.run()},getDefaultSettings:function(){return{selectors:{wrapperGrid:".etheme-product-grid",wrapperList:".etheme-product-list",gridItem:".etheme-product-grid-item",listItem:".etheme-product-list-item",image:".etheme-product-grid-image",sliderImages:".etheme-product-image-hover-slider",loadButton:".etheme-elementor-lazy-button",pagination:".etheme-elementor-pagination-ajax",wrapperPosts:".etheme-posts-wrapper",postItem:".etheme-post",tabContent:".etheme-elementor-tab-content",tabContentActive:".etheme-elementor-tab-content-active"},vars:{w_width:u(window).width(),w_height:u(window).height()}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$wrapperGrid:this.$element.find(e.wrapperGrid),$wrapperList:this.$element.find(e.wrapperList),$gridItem:this.$element.find(e.gridItem),$listItem:this.$element.find(e.listItem),$sliderImages:this.$element.find(e.sliderImages),$loadButton:this.$element.find(e.loadButton),$pagination:this.$element.find(e.pagination),$wrapperPosts:this.$element.find(e.wrapperPosts),$postItem:this.$element.find(e.postItem)}},run:function(){var s=this,e=s.getElementSettings(),r=s.getSettings("selectors"),n=s.getSettings("vars");let t="etheme_posts_tabs.default"==s.$element[0].dataset.widget_type;if(s.elements.$loadButton.length&&"scroll"==e.navigation){let a=s.elements.$loadButton;elementorFrontend.elements.$window.on("scroll",function(){var e=a.offset().top,t=a.outerHeight();u(this).scrollTop()<e+t-n.w_height||a&&(s.local_params.clicked||s.elements.$loadButton.trigger("click"))})}s.elements.$loadButton.on("click",function(){t&&u(this).parents(r.tabContent).length&&!u(this).parents(r.tabContentActive).length||s.loadPostProduct(s,u(this))}),s.elements.$pagination.on("click","a",function(e){e.preventDefault(),s.$element.addClass("etheme-loading"),s.loadPostProduct(s,u(this).parents(r.pagination),u(this),"pagination")}),s.elements.$sliderImages.length&&s.elements.$sliderImages.each(function(){var t={slider:u(this),index:0,process:!1,time:300,imagesWrapper:u(this).find(r.image),arrowsHTML:'<span class="hover-arrow hover-arrow-left"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n<path d="M17.976 22.8l-10.44-10.8 10.464-10.848c0.24-0.288 0.24-0.72-0.024-0.96-0.24-0.24-0.72-0.264-0.984 0l-10.92 11.328c-0.264 0.264-0.264 0.672 0 0.984l10.92 11.28c0.144 0.144 0.312 0.216 0.504 0.216 0.168 0 0.336-0.072 0.456-0.192 0.144-0.12 0.216-0.288 0.24-0.48 0-0.216-0.072-0.384-0.216-0.528z"></path>\n</svg></span><span class="hover-arrow hover-arrow-right"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n<path d="M17.88 11.496l-10.728-11.304c-0.264-0.264-0.672-0.264-0.96-0.024-0.144 0.12-0.216 0.312-0.216 0.504 0 0.168 0.072 0.336 0.192 0.48l10.272 10.8-10.272 10.8c-0.12 0.12-0.192 0.312-0.192 0.504s0.072 0.36 0.192 0.504c0.12 0.144 0.312 0.216 0.48 0.216 0.144 0 0.312-0.048 0.456-0.192l0.024-0.024 10.752-11.328c0.264-0.264 0.24-0.672 0-0.936z"></path>\n</svg></span>'};function a(e){t.process=!1,t.image.attr("src",t.imagesList[e]).attr("srcset",""),t.image.removeAttr("srcset")}t.image=u(this).find(r.image).find("img"),t.imagesList=u(this).attr("data-images").split(";"),1<t.imagesList.length&&(t.imagesWrapper.hasClass("hover-arrows-added")||(t.imagesWrapper.addClass("hover-arrows-added").prepend(t.arrowsHTML),t.slider.find(".hover-arrow").mouseover(function(){t.slider.addClass("is_hover-arrows-hovered")}),t.slider.find(".hover-arrow").on("mouseleave",function(){t.slider.removeClass("is_hover-arrows-hovered")}),t.slider.find(".hover-arrow-left").on("click",function(e){t.process||(t.process=!0,0<t.index?t.index--:t.index=t.imagesList.length-1,a(t.index))}),t.slider.find(".hover-arrow-right").on("click",function(e){t.process||(t.process=!0,t.index<t.imagesList.length-1?t.index++:t.index=0,a(t.index))})))})},loadPostProduct:function(a,s,m,g="button"){a.local_params.clicked=!0;var r=a.getElementSettings(),n=this.getSettings("selectors"),i=parseInt(s.attr("data-paged")),c=parseInt(s.attr("data-max-paged")),o=parseInt(s.attr("data-limit")),h="pagination"==g;if(h||s.addClass("loading"),!(c<=i)){i+=1;let t={"posts-per-page":r.posts_per_page};s.attr("data-offset")&&(t.offset=s.attr("data-offset"));var d,e,l=s.attr("data-widget-type"),p={action:"etheme_elementor_lazy_load",security:s.attr("data-nonce"),query:s.attr("data-query-settings"),widgetType:l};switch(l){case"product-list":d=a.elements.$wrapperList,e=parseInt(d.find(".etheme-product-list-item").length)+parseInt(r.posts_per_page),o&&o<=e&&(t.limit=parseInt(r.posts_per_page)-(e-o)),p.postSettings=s.attr("data-product-settings");break;case"product-grid":d=a.elements.$wrapperGrid,e=parseInt(d.find(n.gridItem).length)+parseInt(r.posts_per_page),p.postSettings=s.attr("data-product-settings");break;default:d="posts-tabs"==l?s.parents(n.tabContentActive).find(n.wrapperPosts):a.elements.$wrapperPosts,e=parseInt(d.find(n.postItem).length)+parseInt(r.posts_per_page),p.postSettings=s.attr("data-post-settings")}if(h){let e=new URL(m.attr("href"));p.widgetId=s.attr("data-widget-id"),i=e.searchParams.get("etheme-"+l+"-"+p.widgetId+"-page"),p.totalPages=parseInt(s.attr("data-total-pages")),p.permalink=s.attr("data-permalink"),t.limit=o}else o&&o<=e&&(t.limit=parseInt(r.posts_per_page)-(e-o));t.paged=i,p.attr=t,p.loading_type=g,u.ajax({url:etheme_elementor_localize.adminajax,method:"POST",data:p,dataType:"json",success:function(e){h?(d.html(JSON.parse(e.content)),s.html(JSON.parse(e.pagination))):d.append(JSON.parse(e.content)),"product-list"==l&&r.show_divider&&a.$element.find(n.listItem).addClass("has-divider").last().removeClass("has-divider")},error:function(e){etTheme.et_notice("products","error")},complete:function(){-1<u.inArray(l,["product-list","product-grid"])&&(u(document).trigger("etheme_product_grid_ajax_loaded"),u(document).trigger("yith_wcwl_reload_fragments")),h||(s.attr("data-paged",i),c<=i||o&&o<=e?s.remove():s.removeClass("loading").addClass("loaded"),t.offset&&e>=s.attr("data-found-posts")&&s.remove()),a.$element.removeClass("etheme-loading"),a.local_params.clicked=!1}})}}});u.each(["etheme_product_grid","etheme_product_list","etheme_product_carousel","etheme_posts","etheme_posts_chess","etheme_posts_tabs"],function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/"+t+".default",function(e){elementorFrontend.elementsHandler.addHandler(a,{$element:e})})})})}(jQuery);